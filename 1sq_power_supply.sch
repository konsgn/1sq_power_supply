EESchema Schematic File Version 4
LIBS:1sq_power_supply-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Regulator_Switching:LM2596S-ADJ U2
U 1 1 5B7DE174
P 1900 1500
F 0 "U2" H 1900 1867 50  0000 C CNN
F 1 "LM2596S-ADJ" H 1900 1776 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:TO-263-5_TabPin3" H 1950 1250 50  0001 L CIN
F 3 "" H 1900 1500 50  0001 C CNN
	1    1900 1500
	1    0    0    -1  
$EndComp
$Comp
L MCU_ST_STM32F0:STM32F030F4Px U3
U 1 1 5B7DE393
P 2600 4500
F 0 "U3" H 2600 4500 50  0000 C CNN
F 1 "STM32F030F4Px" H 3000 3700 50  0000 C CNN
F 2 "Package_SO:TSSOP-20_4.4x6.5mm_P0.65mm" H 2200 3800 50  0001 R CNN
F 3 "" H 2600 4500 50  0001 C CNN
	1    2600 4500
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:L78L05_SOT89 U1
U 1 1 5B7DF10C
P 1400 2500
F 0 "U1" H 1400 2742 50  0000 C CNN
F 1 "L78L05_SOT89" H 1400 2651 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-89-3" H 1400 2700 50  0001 C CIN
F 3 "" H 1400 2450 50  0001 C CNN
	1    1400 2500
	1    0    0    -1  
$EndComp
$Comp
L Regulator_Linear:APE8865N-33-HF-3 U4
U 1 1 5B7DF4D6
P 2900 2500
F 0 "U4" H 2900 2742 50  0000 C CNN
F 1 "AP2210N-3.3" H 2900 2651 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23" H 2900 2725 50  0001 C CIN
F 3 "" H 2900 2500 50  0001 C CNN
	1    2900 2500
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C4
U 1 1 5B7DF96F
P 1800 2600
F 0 "C4" H 1892 2646 50  0000 L CNN
F 1 "4.7u" H 1892 2555 50  0000 L CNN
F 2 "" H 1800 2600 50  0001 C CNN
F 3 "" H 1800 2600 50  0001 C CNN
	1    1800 2600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C6
U 1 1 5B7DF9D3
P 4500 800
F 0 "C6" H 4592 846 50  0000 L CNN
F 1 "1u" H 4592 755 50  0000 L CNN
F 2 "" H 4500 800 50  0001 C CNN
F 3 "" H 4500 800 50  0001 C CNN
	1    4500 800 
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR07
U 1 1 5B7DFAD9
P 1900 1800
F 0 "#PWR07" H 1900 1550 50  0001 C CNN
F 1 "GND" H 1905 1627 50  0000 C CNN
F 2 "" H 1900 1800 50  0001 C CNN
F 3 "" H 1900 1800 50  0001 C CNN
	1    1900 1800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR02
U 1 1 5B7DFB70
P 1400 2800
F 0 "#PWR02" H 1400 2550 50  0001 C CNN
F 1 "GND" H 1405 2627 50  0000 C CNN
F 2 "" H 1400 2800 50  0001 C CNN
F 3 "" H 1400 2800 50  0001 C CNN
	1    1400 2800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR011
U 1 1 5B7DFB89
P 2900 2800
F 0 "#PWR011" H 2900 2550 50  0001 C CNN
F 1 "GND" H 2905 2627 50  0000 C CNN
F 2 "" H 2900 2800 50  0001 C CNN
F 3 "" H 2900 2800 50  0001 C CNN
	1    2900 2800
	1    0    0    -1  
$EndComp
Wire Wire Line
	1700 2500 1800 2500
Wire Wire Line
	2100 2500 2100 2300
Wire Wire Line
	2100 2300 2200 2300
Connection ~ 1800 2500
Connection ~ 2100 2500
$Comp
L power:GND #PWR05
U 1 1 5B7DFBF3
P 1800 2700
F 0 "#PWR05" H 1800 2450 50  0001 C CNN
F 1 "GND" H 1805 2527 50  0000 C CNN
F 2 "" H 1800 2700 50  0001 C CNN
F 3 "" H 1800 2700 50  0001 C CNN
	1    1800 2700
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR08
U 1 1 5B7DFC0C
P 4500 900
F 0 "#PWR08" H 4500 650 50  0001 C CNN
F 1 "GND" H 4505 727 50  0000 C CNN
F 2 "" H 4500 900 50  0001 C CNN
F 3 "" H 4500 900 50  0001 C CNN
	1    4500 900 
	1    0    0    -1  
$EndComp
Wire Wire Line
	3200 2500 3300 2500
Text GLabel 3300 2500 2    50   Input ~ 0
3.3v
Text GLabel 2200 2300 2    50   Input ~ 0
5v
Text GLabel 1800 3500 0    50   Input ~ 0
3.3v
$Comp
L Device:C_Small C3
U 1 1 5B7DFFA7
P 1900 3600
F 0 "C3" H 1992 3646 50  0000 L CNN
F 1 "C_Small" H 1992 3555 50  0000 L CNN
F 2 "" H 1900 3600 50  0001 C CNN
F 3 "" H 1900 3600 50  0001 C CNN
	1    1900 3600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C5
U 1 1 5B7DFFDD
P 2200 3600
F 0 "C5" H 2292 3646 50  0000 L CNN
F 1 "C_Small" H 2292 3555 50  0000 L CNN
F 2 "" H 2200 3600 50  0001 C CNN
F 3 "" H 2200 3600 50  0001 C CNN
	1    2200 3600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C7
U 1 1 5B7E0003
P 2500 3600
F 0 "C7" H 2592 3646 50  0000 L CNN
F 1 "C_Small" H 2592 3555 50  0000 L CNN
F 2 "" H 2500 3600 50  0001 C CNN
F 3 "" H 2500 3600 50  0001 C CNN
	1    2500 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 3500 1900 3500
Wire Wire Line
	1900 3500 2200 3500
Connection ~ 1900 3500
Wire Wire Line
	2200 3500 2500 3500
Connection ~ 2200 3500
Wire Wire Line
	2500 3500 2700 3500
Wire Wire Line
	2700 3500 2700 3700
Connection ~ 2500 3500
Wire Wire Line
	2600 3800 2600 3700
Wire Wire Line
	2600 3700 2700 3700
Connection ~ 2700 3700
Wire Wire Line
	2700 3700 2700 3800
$Comp
L power:GND #PWR04
U 1 1 5B7E04E0
P 1800 3700
F 0 "#PWR04" H 1800 3450 50  0001 C CNN
F 1 "GND" H 1805 3527 50  0000 C CNN
F 2 "" H 1800 3700 50  0001 C CNN
F 3 "" H 1800 3700 50  0001 C CNN
	1    1800 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1800 3700 1900 3700
Wire Wire Line
	1900 3700 2200 3700
Connection ~ 1900 3700
Wire Wire Line
	2500 3700 2200 3700
Connection ~ 2200 3700
$Comp
L power:GND #PWR09
U 1 1 5B7E0C1B
P 2600 5300
F 0 "#PWR09" H 2600 5050 50  0001 C CNN
F 1 "GND" H 2605 5127 50  0000 C CNN
F 2 "" H 2600 5300 50  0001 C CNN
F 3 "" H 2600 5300 50  0001 C CNN
	1    2600 5300
	1    0    0    -1  
$EndComp
Text GLabel 1000 2500 0    50   Input ~ 0
Vin
Text GLabel 1000 1400 0    50   Input ~ 0
Vin
$Comp
L Device:L_Small L1
U 1 1 5B7E25CB
P 2700 1600
F 0 "L1" V 2885 1600 50  0000 C CNN
F 1 "33uH" V 2794 1600 50  0000 C CNN
F 2 "" H 2700 1600 50  0001 C CNN
F 3 "" H 2700 1600 50  0001 C CNN
	1    2700 1600
	0    1    -1   0   
$EndComp
$Comp
L Device:C_Small C2
U 1 1 5B7E18E8
P 1200 1500
F 0 "C2" H 1292 1546 50  0000 L CNN
F 1 "C_Small" H 1292 1455 50  0000 L CNN
F 2 "" H 1200 1500 50  0001 C CNN
F 3 "" H 1200 1500 50  0001 C CNN
	1    1200 1500
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1200 1400 1300 1400
$Comp
L power:GND #PWR03
U 1 1 5B7E199B
P 1200 1600
F 0 "#PWR03" H 1200 1350 50  0001 C CNN
F 1 "GND" H 1205 1427 50  0000 C CNN
F 2 "" H 1200 1600 50  0001 C CNN
F 3 "" H 1200 1600 50  0001 C CNN
	1    1200 1600
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C8
U 1 1 5B7E1D99
P 2900 1700
F 0 "C8" H 2992 1746 50  0000 L CNN
F 1 "C_Small" H 2992 1655 50  0000 L CNN
F 2 "" H 2900 1700 50  0001 C CNN
F 3 "" H 2900 1700 50  0001 C CNN
	1    2900 1700
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C9
U 1 1 5B7EC773
P 6200 6600
F 0 "C9" H 6292 6646 50  0000 L CNN
F 1 "1u" H 6292 6555 50  0000 L CNN
F 2 "" H 6200 6600 50  0001 C CNN
F 3 "" H 6200 6600 50  0001 C CNN
	1    6200 6600
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R9
U 1 1 5B7EC8DA
P 6000 6500
F 0 "R9" V 5804 6500 50  0000 C CNN
F 1 "1k5" V 5895 6500 50  0000 C CNN
F 2 "" H 6000 6500 50  0001 C CNN
F 3 "" H 6000 6500 50  0001 C CNN
	1    6000 6500
	0    1    1    0   
$EndComp
$Comp
L Homebrew:TC2030-MCP J1
U 1 1 5B7ED90A
P 2500 7300
F 0 "J1" H 2500 7300 45  0001 C CNN
F 1 "TC2030-MCP" H 2500 7300 45  0001 C CNN
F 2 "Homebrew_TC2030-MCP" H 2530 7450 20  0001 C CNN
F 3 "" H 2500 7300 60  0001 C CNN
	1    2500 7300
	1    0    0    -1  
$EndComp
Text GLabel 1900 7200 0    50   Input ~ 0
3.3v
Wire Wire Line
	1900 7200 2100 7200
Wire Wire Line
	1900 7300 2100 7300
Text Label 1900 7300 0    50   ~ 0
~RST
Text Label 3100 7200 2    50   ~ 0
SWD
Text Label 3100 7300 2    50   ~ 0
SWC
Wire Wire Line
	2900 7300 3100 7300
Wire Wire Line
	3100 7200 2900 7200
$Comp
L power:GND #PWR06
U 1 1 5B7EF478
P 1900 7400
F 0 "#PWR06" H 1900 7150 50  0001 C CNN
F 1 "GND" H 1905 7227 50  0000 C CNN
F 2 "" H 1900 7400 50  0001 C CNN
F 3 "" H 1900 7400 50  0001 C CNN
	1    1900 7400
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 7400 2100 7400
Text Label 3300 5000 2    50   ~ 0
SWD
Wire Wire Line
	3300 5000 3100 5000
Text Label 3300 5100 2    50   ~ 0
SWC
Wire Wire Line
	3300 5100 3100 5100
Text Notes 5000 900  0    50   ~ 0
Aboost
Text Notes 6000 900  0    50   ~ 0
Acomp
Text Label 3700 4200 2    50   ~ 0
TX
Text Label 3500 4300 2    50   ~ 0
RX
Text Label 3600 4400 2    50   ~ 0
A_Sense
Text Label 3600 4000 2    50   ~ 0
Vo_Sense
Text Label 3600 4100 2    50   ~ 0
Vi_Sense
Text Label 3500 4600 2    50   ~ 0
V_Target
Text Label 3500 4700 2    50   ~ 0
A_Limit
Text Notes 3900 4600 2    50   ~ 0
TIM3_CH1
Text Notes 3900 4700 2    50   ~ 0
TIM3_CH2
Wire Wire Line
	3500 4600 3100 4600
Wire Wire Line
	3500 4700 3100 4700
Text Label 3400 4800 2    50   ~ 0
SCL
Text Label 3400 4900 2    50   ~ 0
SDA
Wire Wire Line
	3400 4800 3100 4800
Wire Wire Line
	3400 4900 3100 4900
Wire Wire Line
	2400 1600 2500 1600
Text GLabel 3400 1600 2    50   Input ~ 0
Vout
Wire Wire Line
	2900 1600 2800 1600
$Comp
L power:GND #PWR012
U 1 1 5B80560B
P 2900 1800
F 0 "#PWR012" H 2900 1550 50  0001 C CNN
F 1 "GND" H 2905 1627 50  0000 C CNN
F 2 "" H 2900 1800 50  0001 C CNN
F 3 "" H 2900 1800 50  0001 C CNN
	1    2900 1800
	1    0    0    -1  
$EndComp
Connection ~ 2900 1600
$Comp
L Device:D_Small D1
U 1 1 5B808A76
P 2500 1700
F 0 "D1" V 2454 1632 50  0000 R CNN
F 1 "SK54B" V 2545 1632 50  0000 R CNN
F 2 "" V 2500 1700 50  0001 C CNN
F 3 "" V 2500 1700 50  0001 C CNN
	1    2500 1700
	0    -1   1    0   
$EndComp
Connection ~ 2500 1600
Wire Wire Line
	2500 1600 2600 1600
$Comp
L power:GND #PWR010
U 1 1 5B80FD26
P 2500 1800
F 0 "#PWR010" H 2500 1550 50  0001 C CNN
F 1 "GND" H 2505 1627 50  0000 C CNN
F 2 "" H 2500 1800 50  0001 C CNN
F 3 "" H 2500 1800 50  0001 C CNN
	1    2500 1800
	1    0    0    -1  
$EndComp
Text GLabel 4900 6400 0    50   Input ~ 0
Vout
Text GLabel 4500 6600 0    50   Input ~ 0
Vin
$Comp
L Device:R_Small R4
U 1 1 5B81087A
P 4500 6800
F 0 "R4" H 4441 6754 50  0000 R CNN
F 1 "R_Small" H 4441 6845 50  0000 R CNN
F 2 "" H 4500 6800 50  0001 C CNN
F 3 "" H 4500 6800 50  0001 C CNN
	1    4500 6800
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R5
U 1 1 5B8133E7
P 4500 7200
F 0 "R5" H 4441 7154 50  0000 R CNN
F 1 "R_Small" H 4441 7245 50  0000 R CNN
F 2 "" H 4500 7200 50  0001 C CNN
F 3 "" H 4500 7200 50  0001 C CNN
	1    4500 7200
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R6
U 1 1 5B813433
P 4900 6600
F 0 "R6" H 4841 6554 50  0000 R CNN
F 1 "R_Small" H 4841 6645 50  0000 R CNN
F 2 "" H 4900 6600 50  0001 C CNN
F 3 "" H 4900 6600 50  0001 C CNN
	1    4900 6600
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R7
U 1 1 5B813485
P 4900 7100
F 0 "R7" H 4841 7054 50  0000 R CNN
F 1 "R_Small" H 4841 7145 50  0000 R CNN
F 2 "" H 4900 7100 50  0001 C CNN
F 3 "" H 4900 7100 50  0001 C CNN
	1    4900 7100
	-1   0    0    1   
$EndComp
$Comp
L power:GND #PWR014
U 1 1 5B813509
P 4500 7300
F 0 "#PWR014" H 4500 7050 50  0001 C CNN
F 1 "GND" H 4505 7127 50  0000 C CNN
F 2 "" H 4500 7300 50  0001 C CNN
F 3 "" H 4500 7300 50  0001 C CNN
	1    4500 7300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR015
U 1 1 5B81354A
P 4900 7200
F 0 "#PWR015" H 4900 6950 50  0001 C CNN
F 1 "GND" H 4905 7027 50  0000 C CNN
F 2 "" H 4900 7200 50  0001 C CNN
F 3 "" H 4900 7200 50  0001 C CNN
	1    4900 7200
	1    0    0    -1  
$EndComp
Text Label 4100 7000 0    50   ~ 0
Vi_Sense
Text Label 5300 6900 2    50   ~ 0
Vo_Sense
Wire Wire Line
	4100 7000 4500 7000
Wire Wire Line
	4500 7000 4500 7100
Wire Wire Line
	4500 6900 4500 7000
Connection ~ 4500 7000
Wire Wire Line
	4500 6600 4500 6700
Wire Wire Line
	4900 6400 4900 6500
Wire Wire Line
	4900 6700 4900 6900
Wire Wire Line
	5300 6900 4900 6900
Connection ~ 4900 6900
Wire Wire Line
	4900 6900 4900 7000
$Comp
L Device:C_Small C10
U 1 1 5B81C0DA
P 6200 7200
F 0 "C10" H 6292 7246 50  0000 L CNN
F 1 "1u" H 6292 7155 50  0000 L CNN
F 2 "" H 6200 7200 50  0001 C CNN
F 3 "" H 6200 7200 50  0001 C CNN
	1    6200 7200
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R10
U 1 1 5B81C0E0
P 6000 7100
F 0 "R10" V 5804 7100 50  0000 C CNN
F 1 "1k5" V 5895 7100 50  0000 C CNN
F 2 "" H 6000 7100 50  0001 C CNN
F 3 "" H 6000 7100 50  0001 C CNN
	1    6000 7100
	0    1    1    0   
$EndComp
$Comp
L power:GND #PWR019
U 1 1 5B81CCD3
P 6200 7300
F 0 "#PWR019" H 6200 7050 50  0001 C CNN
F 1 "GND" H 6205 7127 50  0000 C CNN
F 2 "" H 6200 7300 50  0001 C CNN
F 3 "" H 6200 7300 50  0001 C CNN
	1    6200 7300
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR018
U 1 1 5B81CD18
P 6200 6700
F 0 "#PWR018" H 6200 6450 50  0001 C CNN
F 1 "GND" H 6205 6527 50  0000 C CNN
F 2 "" H 6200 6700 50  0001 C CNN
F 3 "" H 6200 6700 50  0001 C CNN
	1    6200 6700
	1    0    0    -1  
$EndComp
Wire Wire Line
	6100 6500 6200 6500
Wire Wire Line
	6200 6500 6500 6500
Connection ~ 6200 6500
Wire Wire Line
	6500 7100 6200 7100
Wire Wire Line
	6200 7100 6100 7100
Connection ~ 6200 7100
Text Label 5500 6500 0    50   ~ 0
V_Target
Text Label 5500 7100 0    50   ~ 0
A_Limit
Wire Wire Line
	5500 7100 5900 7100
Wire Wire Line
	5500 6500 5900 6500
Text Label 6500 6500 2    50   ~ 0
Vset
Text Label 6500 7100 2    50   ~ 0
Aset
Text Label 5700 1500 0    50   ~ 0
Aset
Wire Wire Line
	5700 1500 5900 1500
Text Label 5300 1300 0    50   ~ 0
A_Sense
Wire Wire Line
	5300 1400 5400 1400
Wire Wire Line
	5700 1400 5700 1300
Wire Wire Line
	5700 1300 5900 1300
Wire Wire Line
	5700 1300 5300 1300
Connection ~ 5700 1300
Wire Wire Line
	1400 1600 1300 1600
Wire Wire Line
	1300 1600 1300 1400
Connection ~ 1300 1400
Wire Wire Line
	1300 1400 1400 1400
Connection ~ 1200 1400
Wire Wire Line
	1000 1400 1200 1400
$Comp
L power:GND #PWR017
U 1 1 5B81B349
P 4900 1700
F 0 "#PWR017" H 4900 1450 50  0001 C CNN
F 1 "GND" H 4905 1527 50  0000 C CNN
F 2 "" H 4900 1700 50  0001 C CNN
F 3 "" H 4900 1700 50  0001 C CNN
	1    4900 1700
	1    0    0    -1  
$EndComp
Text GLabel 4400 700  0    50   Input ~ 0
5v
Wire Wire Line
	4400 700  4500 700 
Wire Wire Line
	4400 1300 4700 1300
Text Label 4400 1300 0    50   ~ 0
GNDout
$Comp
L Device:R_Small R11
U 1 1 5B81EB65
P 5200 2000
F 0 "R11" V 5004 2000 50  0000 C CNN
F 1 "R_Small" V 5095 2000 50  0000 C CNN
F 2 "" H 5200 2000 50  0001 C CNN
F 3 "" H 5200 2000 50  0001 C CNN
	1    5200 2000
	0    -1   1    0   
$EndComp
Wire Wire Line
	5400 1400 5400 2000
Wire Wire Line
	5400 2000 5300 2000
Connection ~ 5400 1400
Wire Wire Line
	5400 1400 5700 1400
Wire Wire Line
	4600 2000 4600 1500
Wire Wire Line
	4600 1500 4700 1500
$Comp
L Device:R_Small R8
U 1 1 5B832655
P 4600 2200
F 0 "R8" H 4541 2246 50  0000 R CNN
F 1 "R_Small" H 4541 2155 50  0000 R CNN
F 2 "" H 4600 2200 50  0001 C CNN
F 3 "" H 4600 2200 50  0001 C CNN
	1    4600 2200
	-1   0    0    -1  
$EndComp
Connection ~ 4600 2000
$Comp
L power:GND #PWR016
U 1 1 5B832740
P 4600 2300
F 0 "#PWR016" H 4600 2050 50  0001 C CNN
F 1 "GND" H 4605 2127 50  0000 C CNN
F 2 "" H 4600 2300 50  0001 C CNN
F 3 "" H 4600 2300 50  0001 C CNN
	1    4600 2300
	1    0    0    -1  
$EndComp
Wire Wire Line
	4600 2100 4600 2000
Wire Wire Line
	1800 2500 2100 2500
$Comp
L Device:R_Small R1
U 1 1 5B84B232
P 2900 1300
F 0 "R1" H 2841 1254 50  0000 R CNN
F 1 "8200" H 2841 1345 50  0000 R CNN
F 2 "" H 2900 1300 50  0001 C CNN
F 3 "" H 2900 1300 50  0001 C CNN
	1    2900 1300
	-1   0    0    1   
$EndComp
$Comp
L Device:R_Small R2
U 1 1 5B84B66C
P 3100 1000
F 0 "R2" H 3041 954 50  0000 R CNN
F 1 "470" H 3041 1045 50  0000 R CNN
F 2 "" H 3100 1000 50  0001 C CNN
F 3 "" H 3100 1000 50  0001 C CNN
	1    3100 1000
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR013
U 1 1 5B84B970
P 3300 800
F 0 "#PWR013" H 3300 550 50  0001 C CNN
F 1 "GND" H 3305 627 50  0000 C CNN
F 2 "" H 3300 800 50  0001 C CNN
F 3 "" H 3300 800 50  0001 C CNN
	1    3300 800 
	1    0    0    -1  
$EndComp
Wire Wire Line
	2900 1100 2900 1200
Wire Wire Line
	2900 1400 2900 1600
Wire Wire Line
	2400 1400 2400 1100
Wire Wire Line
	2400 1100 2900 1100
Connection ~ 2900 1100
Wire Wire Line
	3100 1100 3200 1100
Wire Wire Line
	3300 800  3100 800 
Wire Wire Line
	3100 800  3100 900 
$Comp
L Device:R_Small R3
U 1 1 5B8757A3
P 3300 1100
F 0 "R3" H 3241 1054 50  0000 R CNN
F 1 "750" H 3241 1145 50  0000 R CNN
F 2 "" H 3300 1100 50  0001 C CNN
F 3 "" H 3300 1100 50  0001 C CNN
	1    3300 1100
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3400 1100 3600 1100
Text Label 3600 1100 2    50   ~ 0
Vctrl
$Comp
L Device:D_Small D2
U 1 1 5B87F374
P 1200 1300
F 0 "D2" V 1154 1232 50  0000 R CNN
F 1 "M4" V 1245 1232 50  0000 R CNN
F 2 "" V 1200 1300 50  0001 C CNN
F 3 "" V 1200 1300 50  0001 C CNN
	1    1200 1300
	0    1    -1   0   
$EndComp
$Comp
L power:GND #PWR0101
U 1 1 5B87F4AA
P 1200 1200
F 0 "#PWR0101" H 1200 950 50  0001 C CNN
F 1 "GND" H 1205 1027 50  0000 C CNN
F 2 "" H 1200 1200 50  0001 C CNN
F 3 "" H 1200 1200 50  0001 C CNN
	1    1200 1200
	-1   0    0    1   
$EndComp
Connection ~ 3100 1100
Wire Wire Line
	2900 1100 3100 1100
Wire Wire Line
	5400 2000 5400 2100
Wire Wire Line
	5400 2100 5300 2100
Connection ~ 5400 2000
Wire Wire Line
	4600 2000 5000 2000
Wire Wire Line
	5100 2100 5000 2100
Wire Wire Line
	5000 2100 5000 2000
Connection ~ 5000 2000
Wire Wire Line
	5000 2000 5100 2000
$Comp
L Device:C_Small C15
U 1 1 5B888D4A
P 5200 2100
F 0 "C15" H 5292 2146 50  0000 L CNN
F 1 "DNP" H 5292 2055 50  0000 L CNN
F 2 "" H 5200 2100 50  0001 C CNN
F 3 "" H 5200 2100 50  0001 C CNN
	1    5200 2100
	0    1    1    0   
$EndComp
$Comp
L Amplifier_Operational:MCP6L94 U5
U 1 1 5B8D964A
P 5000 1400
F 0 "U5" H 5000 1767 50  0000 C CNN
F 1 "MCP6L94" H 5000 1676 50  0000 C CNN
F 2 "" H 4950 1500 50  0001 C CNN
F 3 "" H 5050 1600 50  0001 C CNN
	1    5000 1400
	1    0    0    -1  
$EndComp
$Comp
L Amplifier_Operational:MCP6L94 U5
U 2 1 5B8D96EA
P 6200 1400
F 0 "U5" H 6200 1767 50  0000 C CNN
F 1 "MCP6L94" H 6200 1676 50  0000 C CNN
F 2 "" H 6150 1500 50  0001 C CNN
F 3 "" H 6250 1600 50  0001 C CNN
	2    6200 1400
	1    0    0    -1  
$EndComp
$Comp
L Amplifier_Operational:MCP6L94 U5
U 3 1 5B8D9AB5
P 5000 3100
F 0 "U5" H 5000 3467 50  0000 C CNN
F 1 "MCP6L94" H 5000 3376 50  0000 C CNN
F 2 "" H 4950 3200 50  0001 C CNN
F 3 "" H 5050 3300 50  0001 C CNN
	3    5000 3100
	1    0    0    -1  
$EndComp
$Comp
L Amplifier_Operational:MCP6L94 U5
U 5 1 5B8D9C42
P 5000 1400
F 0 "U5" H 4958 1446 50  0000 L CNN
F 1 "MCP6L94" H 4958 1355 50  0000 L CNN
F 2 "" H 4950 1500 50  0001 C CNN
F 3 "" H 5050 1600 50  0001 C CNN
	5    5000 1400
	1    0    0    -1  
$EndComp
Text Label 4400 3000 0    50   ~ 0
Vset
Wire Wire Line
	4400 3000 4700 3000
Wire Wire Line
	5300 3100 5400 3100
Wire Wire Line
	5400 3100 5400 3400
Wire Wire Line
	5400 3400 4600 3400
Wire Wire Line
	4600 3400 4600 3200
Wire Wire Line
	4600 3200 4700 3200
Wire Wire Line
	5700 3100 5400 3100
Connection ~ 5400 3100
Text Label 5700 3100 2    50   ~ 0
Vctrl
Wire Wire Line
	3100 4000 3600 4000
Wire Wire Line
	3100 4100 3600 4100
Wire Wire Line
	3100 4400 3600 4400
Text Label 3500 4500 2    50   ~ 0
PotSense
Text Label 3500 4200 2    50   ~ 0
BTN
Wire Wire Line
	2400 6200 3000 6200
Text Label 2400 6100 0    50   ~ 0
BTN
Text Label 2400 6300 0    50   ~ 0
PotSense
Wire Wire Line
	3000 6100 2400 6100
$Comp
L power:GND #PWR0102
U 1 1 5B96F6C2
P 2900 6400
F 0 "#PWR0102" H 2900 6150 50  0001 C CNN
F 1 "GND" H 2905 6227 50  0000 C CNN
F 2 "" H 2900 6400 50  0001 C CNN
F 3 "" H 2900 6400 50  0001 C CNN
	1    2900 6400
	1    0    0    -1  
$EndComp
Text GLabel 2900 6000 0    50   Input ~ 0
3.3v
$Comp
L Device:R_Small R12
U 1 1 5B9871D7
P 2000 4200
F 0 "R12" H 1941 4154 50  0000 R CNN
F 1 "10k" H 1941 4245 50  0000 R CNN
F 2 "" H 2000 4200 50  0001 C CNN
F 3 "" H 2000 4200 50  0001 C CNN
	1    2000 4200
	0    -1   -1   0   
$EndComp
$Comp
L power:GND #PWR0103
U 1 1 5B98A84E
P 1800 4200
F 0 "#PWR0103" H 1800 3950 50  0001 C CNN
F 1 "GND" H 1805 4027 50  0000 C CNN
F 2 "" H 1800 4200 50  0001 C CNN
F 3 "" H 1800 4200 50  0001 C CNN
	1    1800 4200
	1    0    0    -1  
$EndComp
Wire Wire Line
	1900 4200 1800 4200
Wire Wire Line
	1900 4000 2100 4000
Text Label 1900 4000 0    50   ~ 0
~RST
$Comp
L power:GND #PWR0104
U 1 1 5B96596D
P 8000 4100
F 0 "#PWR0104" H 8000 3850 50  0001 C CNN
F 1 "GND" H 8005 3927 50  0000 C CNN
F 2 "" H 8000 4100 50  0001 C CNN
F 3 "" H 8000 4100 50  0001 C CNN
	1    8000 4100
	0    1    1    0   
$EndComp
$Comp
L Kicad-Adopted&tweaked:SSD1306 OLEDM1
U 1 1 5B96D710
P 8900 4900
F 0 "OLEDM1" H 8850 5987 60  0000 C CNN
F 1 "SSD1306" H 8850 5881 60  0000 C CNN
F 2 "" H 8850 5881 60  0001 C CNN
F 3 "" H 8900 4950 60  0000 C CNN
	1    8900 4900
	1    0    0    -1  
$EndComp
Wire Wire Line
	8000 4100 8200 4100
$Comp
L Device:C_Small C11
U 1 1 5B988C1E
P 7300 4300
F 0 "C11" H 7392 4346 50  0000 L CNN
F 1 "2u2" H 7392 4255 50  0000 L CNN
F 2 "" H 7300 4300 50  0001 C CNN
F 3 "" H 7300 4300 50  0001 C CNN
	1    7300 4300
	-1   0    0    1   
$EndComp
$Comp
L Device:C_Small C13
U 1 1 5B98919E
P 7700 4500
F 0 "C13" H 7792 4546 50  0000 L CNN
F 1 "2u2" H 7792 4455 50  0000 L CNN
F 2 "" H 7700 4500 50  0001 C CNN
F 3 "" H 7700 4500 50  0001 C CNN
	1    7700 4500
	-1   0    0    1   
$EndComp
$Comp
L Device:C_Small C12
U 1 1 5B9892D7
P 7300 4800
F 0 "C12" H 7392 4846 50  0000 L CNN
F 1 "2u2" H 7392 4755 50  0000 L CNN
F 2 "" H 7300 4800 50  0001 C CNN
F 3 "" H 7300 4800 50  0001 C CNN
	1    7300 4800
	-1   0    0    1   
$EndComp
$Comp
L Device:C_Small C14
U 1 1 5B989347
P 7700 5100
F 0 "C14" H 7792 5146 50  0000 L CNN
F 1 "2u2" H 7792 5055 50  0000 L CNN
F 2 "" H 7700 5100 50  0001 C CNN
F 3 "" H 7700 5100 50  0001 C CNN
	1    7700 5100
	-1   0    0    1   
$EndComp
$Comp
L Device:C_Small C16
U 1 1 5B989A0B
P 9600 5800
F 0 "C16" H 9692 5846 50  0000 L CNN
F 1 "10u" H 9692 5755 50  0000 L CNN
F 2 "" H 9600 5800 50  0001 C CNN
F 3 "" H 9600 5800 50  0001 C CNN
	1    9600 5800
	1    0    0    -1  
$EndComp
$Comp
L Device:C_Small C17
U 1 1 5B989ABD
P 9900 5800
F 0 "C17" H 9992 5846 50  0000 L CNN
F 1 "2u2" H 9992 5755 50  0000 L CNN
F 2 "" H 9900 5800 50  0001 C CNN
F 3 "" H 9900 5800 50  0001 C CNN
	1    9900 5800
	1    0    0    -1  
$EndComp
$Comp
L Device:R_Small R13
U 1 1 5B98A042
P 10200 5800
F 0 "R13" H 10141 5754 50  0000 R CNN
F 1 "330" H 10141 5845 50  0000 R CNN
F 2 "" H 10200 5800 50  0001 C CNN
F 3 "" H 10200 5800 50  0001 C CNN
	1    10200 5800
	-1   0    0    -1  
$EndComp
$Comp
L power:GND #PWR0105
U 1 1 5B98A963
P 9500 6100
F 0 "#PWR0105" H 9500 5850 50  0001 C CNN
F 1 "GND" H 9505 5927 50  0000 C CNN
F 2 "" H 9500 6100 50  0001 C CNN
F 3 "" H 9500 6100 50  0001 C CNN
	1    9500 6100
	1    0    0    -1  
$EndComp
Wire Wire Line
	8200 4200 7300 4200
Wire Wire Line
	7300 4400 7400 4400
Wire Wire Line
	7400 4400 7400 4300
Wire Wire Line
	7400 4300 8200 4300
Wire Wire Line
	8200 4400 7700 4400
Wire Wire Line
	7700 4600 7800 4600
Wire Wire Line
	7800 4600 7800 4500
Wire Wire Line
	7800 4500 8200 4500
Wire Wire Line
	8200 4600 7900 4600
Wire Wire Line
	7900 4600 7900 4700
Wire Wire Line
	7900 4700 7400 4700
$Comp
L power:GND #PWR0106
U 1 1 5B9AA306
P 7300 5100
F 0 "#PWR0106" H 7300 4850 50  0001 C CNN
F 1 "GND" H 7305 4927 50  0000 C CNN
F 2 "" H 7300 5100 50  0001 C CNN
F 3 "" H 7300 5100 50  0001 C CNN
	1    7300 5100
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0107
U 1 1 5B9D52A8
P 7700 5300
F 0 "#PWR0107" H 7700 5050 50  0001 C CNN
F 1 "GND" H 7705 5127 50  0000 C CNN
F 2 "" H 7700 5300 50  0001 C CNN
F 3 "" H 7700 5300 50  0001 C CNN
	1    7700 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	7200 4500 7400 4500
Wire Wire Line
	7400 4500 7400 4700
Text GLabel 7200 4500 0    50   Input ~ 0
3.3v
Wire Wire Line
	8200 5000 7900 5000
Wire Wire Line
	8000 5700 8000 5100
Wire Wire Line
	8000 5100 8200 5100
Wire Wire Line
	8100 5200 8200 5200
Text Label 7900 5400 1    50   ~ 0
BS0
Text Label 8000 5400 1    50   ~ 0
BS1
Text Label 8100 5400 1    50   ~ 0
BS2
$Comp
L power:GND #PWR0108
U 1 1 5BA0C93A
P 8200 5800
F 0 "#PWR0108" H 8200 5550 50  0001 C CNN
F 1 "GND" H 8205 5627 50  0000 C CNN
F 2 "" H 8200 5800 50  0001 C CNN
F 3 "" H 8200 5800 50  0001 C CNN
	1    8200 5800
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0109
U 1 1 5BA11E47
P 8100 5400
F 0 "#PWR0109" H 8100 5150 50  0001 C CNN
F 1 "GND" H 8105 5227 50  0000 C CNN
F 2 "" H 8100 5400 50  0001 C CNN
F 3 "" H 8100 5400 50  0001 C CNN
	1    8100 5400
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR0110
U 1 1 5BA11EAE
P 7900 5400
F 0 "#PWR0110" H 7900 5150 50  0001 C CNN
F 1 "GND" H 7905 5227 50  0000 C CNN
F 2 "" H 7900 5400 50  0001 C CNN
F 3 "" H 7900 5400 50  0001 C CNN
	1    7900 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	8100 5200 8100 5400
Wire Wire Line
	7900 5000 7900 5400
Wire Wire Line
	8000 5700 7800 5700
Text GLabel 7800 5700 0    50   Input ~ 0
3.3v
Text Label 1800 4900 0    50   ~ 0
LCDRST
Text Label 9900 4200 2    50   ~ 0
LCDRST
Text GLabel 7700 4900 0    50   Input ~ 0
3.3v
Wire Wire Line
	7700 5300 7700 5200
Wire Wire Line
	7300 4900 7300 5000
Wire Wire Line
	7400 4700 7300 4700
Connection ~ 7400 4700
Wire Wire Line
	7400 4800 7400 5000
Wire Wire Line
	7400 5000 7300 5000
Wire Wire Line
	7400 4800 8200 4800
Connection ~ 7300 5000
Wire Wire Line
	7300 5000 7300 5100
Wire Wire Line
	9500 5700 9600 5700
Wire Wire Line
	9500 5600 9900 5600
Wire Wire Line
	9900 5600 9900 5700
Wire Wire Line
	9500 5800 9500 6000
Wire Wire Line
	9600 5900 9600 6000
Wire Wire Line
	9600 6000 9500 6000
Connection ~ 9500 6000
Wire Wire Line
	9500 6000 9500 6100
Wire Wire Line
	9900 5900 9900 6000
Wire Wire Line
	9900 6000 9600 6000
Connection ~ 9600 6000
Wire Wire Line
	10200 5900 10200 6000
Wire Wire Line
	10200 6000 9900 6000
Connection ~ 9900 6000
Wire Wire Line
	7700 5000 7800 5000
Wire Wire Line
	7800 5000 7800 4900
Wire Wire Line
	7800 4900 8200 4900
Wire Wire Line
	7700 4900 7800 4900
Connection ~ 7800 4900
Wire Wire Line
	9900 4200 9500 4200
Text Label 9700 4600 2    50   ~ 0
SCL
Wire Wire Line
	9700 4600 9500 4600
Wire Wire Line
	9700 4700 9500 4700
Wire Wire Line
	9700 4800 9500 4800
$Comp
L power:GND #PWR0111
U 1 1 5BB76405
P 10100 5400
F 0 "#PWR0111" H 10100 5150 50  0001 C CNN
F 1 "GND" H 10105 5227 50  0000 C CNN
F 2 "" H 10100 5400 50  0001 C CNN
F 3 "" H 10100 5400 50  0001 C CNN
	1    10100 5400
	1    0    0    -1  
$EndComp
Wire Wire Line
	9500 5500 10000 5500
Wire Wire Line
	10000 5500 10000 5700
Wire Wire Line
	10000 5700 10200 5700
Wire Wire Line
	9500 4100 10100 4100
Wire Wire Line
	10100 4100 10100 4300
Wire Wire Line
	9500 4400 10100 4400
Connection ~ 10100 4400
Wire Wire Line
	10100 4400 10100 4500
Wire Wire Line
	9500 4300 10100 4300
Connection ~ 10100 4300
Wire Wire Line
	10100 4300 10100 4400
Wire Wire Line
	9500 4500 10100 4500
Connection ~ 10100 4500
Wire Wire Line
	10100 4500 10100 4900
Text Label 9700 4700 2    50   ~ 0
SDA
Text Label 9700 4800 2    50   ~ 0
SDA
Wire Wire Line
	9500 5300 10100 5300
Wire Wire Line
	9500 5200 10100 5200
Connection ~ 10100 5200
Wire Wire Line
	9500 4900 10100 4900
Connection ~ 10100 4900
Wire Wire Line
	10100 4900 10100 5000
Wire Wire Line
	9500 5000 10100 5000
Connection ~ 10100 5000
Wire Wire Line
	10100 5000 10100 5100
Wire Wire Line
	9500 5100 10100 5100
Connection ~ 10100 5100
Wire Wire Line
	10100 5100 10100 5200
Connection ~ 10100 5300
Wire Wire Line
	10100 5200 10100 5300
Wire Wire Line
	10100 5300 10100 5400
Wire Wire Line
	2900 1600 3400 1600
Wire Wire Line
	1800 4900 2100 4900
Text Notes 4900 2600 0    50   ~ 0
VBuffer
Wire Wire Line
	1000 2500 1100 2500
Text Label 7800 2000 2    50   ~ 0
GNDout
$Comp
L Device:R_Small R14
U 1 1 5BA301E9
P 7300 2000
F 0 "R14" V 7104 2000 50  0000 C CNN
F 1 ".05" V 7195 2000 50  0000 C CNN
F 2 "" H 7300 2000 50  0001 C CNN
F 3 "" H 7300 2000 50  0001 C CNN
	1    7300 2000
	0    1    1    0   
$EndComp
Wire Wire Line
	7400 2000 7800 2000
$Comp
L power:GND #PWR0112
U 1 1 5BA38246
P 7100 2000
F 0 "#PWR0112" H 7100 1750 50  0001 C CNN
F 1 "GND" H 7105 1827 50  0000 C CNN
F 2 "" H 7100 2000 50  0001 C CNN
F 3 "" H 7100 2000 50  0001 C CNN
	1    7100 2000
	1    0    0    -1  
$EndComp
Wire Wire Line
	7100 2000 7200 2000
Wire Wire Line
	2100 2500 2600 2500
Connection ~ 4500 700 
Wire Wire Line
	4500 700  4900 700 
Wire Wire Line
	4900 700  4900 1100
$Comp
L Device:D_Small D3
U 1 1 5BAC8367
P 6600 1400
F 0 "D3" H 6600 1195 50  0000 C CNN
F 1 "D_Small" H 6600 1286 50  0000 C CNN
F 2 "" V 6600 1400 50  0001 C CNN
F 3 "" V 6600 1400 50  0001 C CNN
	1    6600 1400
	-1   0    0    1   
$EndComp
Wire Wire Line
	6700 1400 6900 1400
Text Label 2500 1100 0    50   ~ 0
FB
Text Label 6900 1400 2    50   ~ 0
FB
Text GLabel 9300 1200 2    50   Input ~ 0
Vin
$Comp
L power:GND #PWR0113
U 1 1 5BAB45E8
P 9300 1900
F 0 "#PWR0113" H 9300 1650 50  0001 C CNN
F 1 "GND" H 9305 1727 50  0000 C CNN
F 2 "" H 9300 1900 50  0001 C CNN
F 3 "" H 9300 1900 50  0001 C CNN
	1    9300 1900
	1    0    0    -1  
$EndComp
Text GLabel 10100 1200 0    50   Input ~ 0
Vout
Text Label 9800 1900 0    50   ~ 0
GNDout
Wire Wire Line
	9800 1900 10100 1900
$Comp
L Connector_Generic:Conn_01x02 J2
U 1 1 5BAC0784
P 8900 1300
F 0 "J2" H 8820 975 50  0000 C CNN
F 1 "Conn_01x02" H 8820 1066 50  0000 C CNN
F 2 "" H 8900 1300 50  0001 C CNN
F 3 "" H 8900 1300 50  0001 C CNN
	1    8900 1300
	-1   0    0    1   
$EndComp
Wire Wire Line
	10300 1800 10100 1800
Wire Wire Line
	10100 1800 10100 1900
Wire Wire Line
	10300 1900 10100 1900
Connection ~ 10100 1900
Wire Wire Line
	10300 1200 10200 1200
Wire Wire Line
	10300 1300 10200 1300
Wire Wire Line
	10200 1300 10200 1200
Connection ~ 10200 1200
Wire Wire Line
	10200 1200 10100 1200
Wire Wire Line
	9100 1200 9200 1200
Wire Wire Line
	9100 1300 9200 1300
Wire Wire Line
	9200 1300 9200 1200
Connection ~ 9200 1200
Wire Wire Line
	9200 1200 9300 1200
Wire Wire Line
	9300 1900 9200 1900
Wire Wire Line
	9100 1800 9200 1800
Wire Wire Line
	9200 1800 9200 1900
Connection ~ 9200 1900
Wire Wire Line
	9200 1900 9100 1900
$Comp
L Connector_Generic:Conn_01x02 J3
U 1 1 5BB22884
P 8900 1900
F 0 "J3" H 8820 1575 50  0000 C CNN
F 1 "Conn_01x02" H 8820 1666 50  0000 C CNN
F 2 "" H 8900 1900 50  0001 C CNN
F 3 "" H 8900 1900 50  0001 C CNN
	1    8900 1900
	-1   0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J4
U 1 1 5BB228FE
P 10500 1300
F 0 "J4" H 10419 975 50  0000 C CNN
F 1 "Conn_01x02" H 10419 1066 50  0000 C CNN
F 2 "" H 10500 1300 50  0001 C CNN
F 3 "" H 10500 1300 50  0001 C CNN
	1    10500 1300
	1    0    0    1   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J5
U 1 1 5BB229C7
P 10500 1900
F 0 "J5" H 10419 1575 50  0000 C CNN
F 1 "Conn_01x02" H 10419 1666 50  0000 C CNN
F 2 "" H 10500 1900 50  0001 C CNN
F 3 "" H 10500 1900 50  0001 C CNN
	1    10500 1900
	1    0    0    1   
$EndComp
Wire Wire Line
	3100 4300 3500 4300
Wire Wire Line
	3100 4200 3500 4200
$Comp
L Connector:Conn_01x05_Male J6
U 1 1 5BB567A2
P 3200 6200
F 0 "J6" H 3173 6223 50  0000 R CNN
F 1 "Conn_01x05_Male" H 3173 6132 50  0000 R CNN
F 2 "" H 3200 6200 50  0001 C CNN
F 3 "" H 3200 6200 50  0001 C CNN
	1    3200 6200
	-1   0    0    -1  
$EndComp
Wire Wire Line
	2900 6000 3000 6000
Wire Wire Line
	2900 6400 3000 6400
Wire Wire Line
	3500 4500 3100 4500
Text Label 2400 6200 0    50   ~ 0
RX
Wire Wire Line
	2400 6300 3000 6300
$EndSCHEMATC
